#!/bin/bash

# Input file
input_file="yourfile.csv"

# Temporary file
temp_file="temp.csv"

# Use awk to process the file
awk -F, '
BEGIN { OFS = "," }
{
    # Process all fields except the last one normally
    for (i = 1; i < NF; i++) {
        # Remove quotes
        gsub(/"/, "", $i)
        # Replace \n and \r
        gsub(/\\n|\\r/, "", $i)
    }
    # Handle the last field separately
    gsub(/\r|\n/, "", $NF)
    print
}' "$input_file" > "$temp_file"

# Overwrite the original file with the modified data
mv "$temp_file" "$input_file"
