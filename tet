#!/bin/bash

# Input CSV file
input_file="yourfile.csv"

# Use awk to process the file
awk -F, '
BEGIN { OFS = "|" }
{
    # Process each field except the last one
    for(i = 1; i < NF; i++) {
        # Remove quotes
        gsub(/"/, "", $i)
        # Replace \n and \r
        gsub(/\\n|\\r/, "", $i)
    }
    # Handle the last field separately for newlines and carriage returns
    gsub(/\\n|\\r/, "", $NF)

    print
}' "$input_file" > temp.csv

# Overwrite the original file with the modified data
mv temp.csv "$input_file"
